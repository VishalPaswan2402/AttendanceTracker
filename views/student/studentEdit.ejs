<!DOCTYPE html>
<html lang="en">
<%- include('../headFoot/head') %>
  <title>Attendance-Tracker Student-Edit</title>
  <link rel="stylesheet" href="/cssFolder/login.css">

  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand logo" href="/"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link textSize" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active textSize" aria-current="page">Edit Student's</a>
            </li>
            <li class="nav-item">
              <a class="nav-link textSize" href="/Attendance-Tracker/userGuide">User Guide</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="top">Attendance Tracker</div>

    <form action="/Attendance-Tracker/<%=techId%>/<%=classId%>/<%=findStudent._id%>/Students-Edit?_method=PUT"
      method="post" id="editBox" class="needs-validation" novalidate>
      <div class="card formCard" style="width: 30rem; margin:auto;">
        <div class="card-body">
          <h2 class="card-title" style="align-items: center; text-align: center;">Student's Edit Page</h2>
          <div class="form-floating mb-3 mt-3">
            <input type="text" name="sName" class="form-control inp1" id="floatingn" placeholder="Enter Student's Name"
              value="<%=findStudent.studentName%>" required>
            <label for="floatingn">Enter Student's Name</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" name="sRollNo" class="form-control inp1" id="floatingr" style="text-transform: uppercase;"
              placeholder="Enter Student's Roll No." value="<%=findStudent.studentRollNo%>" required>
            <label for="floatingr">Enter Student's Roll No.</label>
          </div>
          <div class="form-floating mb-3">
            <select class="form-select inp1" name="currAttend" id="floatingSelectc"
              aria-label="Floating label select example">
              <option value="" disabled selected>Previous Attendance</option>
              <option value="Present" <%=prevAttend==="Present" ? 'selected' : '' %> >Present</option>
              <option value="Absent" <%=prevAttend==="Absent" ? 'selected' : '' %>>Absent</option>
            </select>
            <label for="floatingSelectc">Previous Attendance</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" name="semester" class="form-control inp1" id="floatings" placeholder="Student's Semester"
              value="<%=findStudent.studentSemester%>" readonly required>
            <label for="floatings">Student's Semester</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" name="section" class="form-control inp1" style="text-transform: uppercase;" id="floatingse"
              placeholder="Student's Section" value="<%=findStudent.studentSection%>" readonly required>
            <label for="floatingse">Student's Section</label>
          </div>
          <div class="form-floating">
            <input type="text" name="collegeName" class="form-control inp1" id="floatingc" placeholder="Student's College"
              value="<%=findStudent.college%>" readonly required>
            <label for="floatingc">Student's College</label>
          </div>
        </div>
        <div class="allButtons mb-3" style="display: flex; justify-content:space-evenly;">
          <a href="/Attendance-Tracker/<%=techId%>/<%=classId%>/Attendance-Sheet"><button type="button"
              class="btn btn-warning logInfo">Cancle Form</button></a>
          <button type="submit" class="btn btn-primary editBox">Update Student</button>
          <button type="button" class="btn btn-danger logInfo" id="removeStudent">Delete Student</button>
        </div>

      </div>
    </form>

    <!-- Delete Student Permanently... -->
    <div id="deleteForm">
      <div class="card" id="cardDel" style="width: 18rem;">
        <div class="card-body">
          <i class="fa-solid fa-circle-exclamation" id="alertSt"></i>
          <h4 class="card-subtitle mb-2 text-body-secondary" style="margin-top: 5px;">Are You Sure ?</h4>
          <p class="card-text">All data related to this student will be deleted permanently and cannot be restored
            again.</p>
          <div style="display: flex; align-items: center; justify-content: space-evenly;">
            <form id="deleteStudentByTeacher"
              action="/Attendance-Tracker/<%=techId%>/<%=classId%>/<%=findStudent._id%>/Students-Destroy?_method=Delete"
              method="post">
              <a href="#" class="card-link"><button type="submit"
                  class="btn btn-danger deleteStudentByTeacher">Confirm</button></a>
            </form>
            <a href="/Attendance-Tracker/<%=techId%>/<%=classId%>/Attendance-Sheet" class="card-link logInfo"><button
                type="button" class="btn btn-primary">Cancle</button></a>
          </div>

        </div>
      </div>
    </div>

    <%-include('../headFoot/footer.ejs')%>

      <script src="/scriptFolder/inputData.js"></script>
      <script src="/scriptFolder/stEdit.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"></script>
  </body>
</html>